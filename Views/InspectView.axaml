<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:AdwScanGui.ViewModels"
             x:Class="AdwScanGui.Views.InspectView"
             x:DataType="vm:InspectViewModel">
    <ScrollViewer>
        <StackPanel Margin="24" Spacing="16">
            <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
            <TextBlock Text="ðŸ” è©³ç´°æ¤œæŸ»" FontSize="22" FontWeight="Bold"
                       Foreground="{StaticResource TextPrimaryBrush}"/>

            <!-- ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å…¥åŠ› -->
            <Border Classes="card">
                <StackPanel Spacing="10">
                    <TextBlock Text="ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å" FontSize="12"
                               Foreground="{StaticResource TextSecondaryBrush}"/>
                    <Grid ColumnDefinitions="*,Auto">
                        <TextBox Grid.Column="0"
                                 Text="{Binding PackageName}"
                                 Watermark="ä¾‹: com.example.suspicious"
                                 Margin="0,0,8,0"/>
                        <Button Grid.Column="1" Classes="primary"
                                Content="ðŸ” ã‚¹ã‚­ãƒ£ãƒ³"
                                Command="{Binding ScanCommand}"
                                IsEnabled="{Binding !IsBusy}"/>
                    </Grid>
                    <ProgressBar IsIndeterminate="True"
                                 IsVisible="{Binding IsBusy}"
                                 Height="3"/>
                </StackPanel>
            </Border>

            <!-- ã‚¹ã‚³ã‚¢è¡¨ç¤º -->
            <Border Classes="card" IsVisible="{Binding HasResult}">
                <Grid ColumnDefinitions="*,200">
                    <StackPanel Grid.Column="0" Spacing="8">
                        <TextBlock Text="è„…å¨ã‚¹ã‚³ã‚¢" FontSize="12"
                                   Foreground="{StaticResource TextSecondaryBrush}"/>
                        <TextBlock Text="{Binding ScoreText}"
                                   FontSize="48" FontWeight="Bold"
                                   Foreground="{StaticResource AccentBrush}"/>
                        <TextBlock Text="{Binding LevelLabel}"
                                   FontSize="14" FontWeight="SemiBold"
                                   Foreground="{StaticResource AccentBrush}"/>
                    </StackPanel>
                    <!-- ã‚¹ã‚³ã‚¢ãƒãƒ¼ -->
                    <StackPanel Grid.Column="1" VerticalAlignment="Center" Spacing="8">
                        <TextBlock Text="å±é™ºåº¦ãƒ¡ãƒ¼ã‚¿ãƒ¼" FontSize="11"
                                   Foreground="{StaticResource TextSecondaryBrush}"/>
                        <ProgressBar Value="{Binding ScoreFraction}"
                                     Minimum="0" Maximum="1"
                                     Height="12" CornerRadius="6">
                            <ProgressBar.Transitions>
                                <Transitions>
                                    <DoubleTransition Property="Value" Duration="0:0:0.6"/>
                                </Transitions>
                            </ProgressBar.Transitions>
                        </ProgressBar>
                        <Grid ColumnDefinitions="*,*,*,*">
                            <TextBlock Grid.Column="0" Text="ä½Ž" FontSize="10"
                                       Foreground="{StaticResource TextSecondaryBrush}"/>
                            <TextBlock Grid.Column="3" Text="å±é™º" FontSize="10"
                                       HorizontalAlignment="Right"
                                       Foreground="{StaticResource TextSecondaryBrush}"/>
                        </Grid>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- ç†ç”±ãƒªã‚¹ãƒˆ -->
            <Border Classes="card" IsVisible="{Binding HasResult}">
                <StackPanel Spacing="8">
                    <TextBlock Text="æ¤œå‡ºã‚·ã‚°ãƒŠãƒ«" FontSize="14" FontWeight="SemiBold"
                               Foreground="{StaticResource TextPrimaryBrush}"/>
                    <TextBlock Text="{Binding ReasonsText}"
                               FontSize="12" TextWrapping="Wrap"
                               Foreground="{StaticResource TextPrimaryBrush}"
                               FontFamily="Consolas, monospace"/>
                </StackPanel>
            </Border>

            <!-- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ -->
            <StackPanel Orientation="Horizontal" Spacing="10"
                        IsVisible="{Binding HasResult}">
                <Button Classes="outline" Content="âš¡ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ç”»é¢ã¸"
                        Command="{Binding RequestActionCommand}"
                        CommandParameter="goto"/>
            </StackPanel>
        </StackPanel>
    </ScrollViewer>
</UserControl>
