<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:AdwScanGui.ViewModels"
             x:Class="AdwScanGui.Views.InventoryView"
             x:DataType="vm:InventoryViewModel">
    <DockPanel Margin="24">
        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
        <DockPanel DockPanel.Dock="Top" Margin="0,0,0,16">
            <TextBlock Text="ðŸ“‹ ã‚¢ãƒ—ãƒªä¸€è¦§" FontSize="22" FontWeight="Bold"
                       Foreground="{StaticResource TextPrimaryBrush}"
                       VerticalAlignment="Center"/>
            <Button Classes="primary" Content="ðŸ”„ ä¸€è¦§æ›´æ–°"
                    Command="{Binding RefreshCommand}"
                    HorizontalAlignment="Right"/>
        </DockPanel>

        <!-- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ -->
        <TextBlock DockPanel.Dock="Top"
                   Text="{Binding StatusText}"
                   Foreground="{StaticResource TextSecondaryBrush}"
                   FontSize="12" Margin="0,0,0,12"/>

        <!-- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° -->
        <ProgressBar DockPanel.Dock="Top"
                     IsIndeterminate="True"
                     IsVisible="{Binding IsBusy}"
                     Margin="0,0,0,12" Height="3"/>

        <!-- ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä¸€è¦§ -->
        <Border Classes="card" Padding="0">
            <ListBox ItemsSource="{Binding Packages}"
                     Background="Transparent">
                <ListBox.ItemTemplate>
                    <DataTemplate x:DataType="vm:PackageItem">
                        <Grid ColumnDefinitions="*,80,100" Margin="12,6">
                            <StackPanel Grid.Column="0" Spacing="2">
                                <TextBlock Text="{Binding DisplayName}"
                                           FontSize="13"
                                           FontWeight="SemiBold"
                                           Foreground="{StaticResource TextPrimaryBrush}"
                                           VerticalAlignment="Center"
                                           TextTrimming="CharacterEllipsis"/>
                                <TextBlock Text="{Binding Package}"
                                           FontSize="11"
                                           Foreground="{StaticResource TextSecondaryBrush}"
                                           VerticalAlignment="Center"
                                           TextTrimming="CharacterEllipsis"/>
                            </StackPanel>
                            <TextBlock Grid.Column="1"
                                       Text="{Binding Status}"
                                       FontSize="11"
                                       Foreground="{StaticResource TextSecondaryBrush}"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Center"/>
                            <Button Grid.Column="2"
                                    Classes="outline"
                                    Content="ðŸ” è©³ç´°æ¤œæŸ»"
                                    FontSize="11" Padding="8,4"
                                    Command="{Binding $parent[ListBox].((vm:InventoryViewModel)DataContext).InspectCommand}"
                                    CommandParameter="{Binding}"/>
                        </Grid>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </Border>
    </DockPanel>
</UserControl>
